<!-- Headaer Product-->
<div class="sticky top-0 p-3 z-30 bg-white">
  <div class="flex justify-between items-center justify-between">
    <!-- Right -->
    <button (click)="goBackPage()">
      <i class="fa-lg fa-solid fa-arrow-left-long"></i>
    </button>

    <!-- Left -->
    <div class="space-x-5 flex items-center">
      <i class="fa-lg fa-solid fa-magnifying-glass"></i>
      <i class="fa-lg fa-solid fa-square-share-nodes"></i>

      <div routerLink="/cart" class="relative h-6 w-6">
        <div class="absolute px-1 -right-1.5 -top-0.5 bg-red-500 rounded-full flex items-center text-center">
          <span style="font-size: 8px;" class="text-white text-center">
            {{lengthNotif}}
          </span>
        </div>
        <i class="fa-lg fa-solid fa-cart-shopping"></i>
      </div>
      <button (click)="openNav()">
        <i class="fa-lg fa-solid fa-bars"></i>
      </button>

    </div>
  </div>
</div>

<ng-container *ngIf="product">
<div class="w-full carousel">
  <div class="carousel-item w-full">
    <div class="relative">
      <img src="https://images.pexels.com/photos/341523/pexels-photo-341523.jpeg?auto=compress&cs=tinysrgb&w=800" 
      class="w-full" 
      alt="product img"/>
      <span class="absolute bottom-2 left-2 bg-white text-xs py-0.5 px-2 rounded-lg border border-green-400">
        1/3
      </span>
    </div>
  </div> 
  <div class="carousel-item w-full">
    <div class="relative">
      <img [src]="product.imageUrl" 
      class="w-full" 
      alt="product img"/>
      <span class="absolute bottom-2 left-2 bg-white text-xs py-0.5 px-2 rounded-lg border border-green-400">
        2/3
      </span>
    </div>
  </div> 
  <div class="carousel-item w-full">
    <div class="relative">
      <img src="https://images.pexels.com/photos/341523/pexels-photo-341523.jpeg?auto=compress&cs=tinysrgb&w=800" 
      class="w-full" 
      alt="product img"/>
      <span class="absolute bottom-2 left-2 bg-white text-xs py-0.5 px-2 rounded-lg border border-green-400">
        3/3
      </span>
    </div>
  </div> 
</div>
<div class="px-3 mb-2">
  <label id="title" class="text-sm">
    {{product.productName}}
  </label>

  <div class="mt-3"></div>
  <div class="flex justify-between">
    <div class="space-y-2">
      <div class="flex items-center text-xl font-bold">
        {{product.price | currency: 'Rp' : 'symbol' : '4.0'}}
        <i class="ml-2 text-green-500 uppercase font-extrabold" style="line-height: 8px; font-size: 8px;">
          Bebas <br/>Ongkir
        </i>
      </div>
      <div class="text-xs space-x-1">
        <span class="bg-red-100 text-red-500 p-1 font-bold rounded">{{product.discon}}%</span>
        <span class="text-gray-400 font-semibold line-through">{{product.disconPrice | currency: 'Rp' : 'symbol' : '4.0'}}</span>
      </div>
    </div>
    <div (click)="loveWishlist()">
      <i class="fa-lg fa-heart "
      [ngClass]="product.wishlist == true ? 'fa-solid text-red-600' : 'fa-regular'"></i>
    </div>
  </div>
</div>

<div class="w-full border-b-2 border-gray-200 h-2 mb-2"></div>
<div class="px-3">
  <div class="flex justify-between">
    <div class="flex items-center">
      <div class="h-5 w-5 flex items-center">
        <i class="fas fa-wallet fa-xs text-blue-500"></i>
      </div>
      <div class="text-xs">
        <b>Rp42.023</b> x 3 Bulan 
        <b class="text-green-500">Aktifkan GoPay Later</b>
      </div>
    </div>
    <div class="mr-1">
      <i class="fa-xs fa-solid fa-chevron-right"></i>
    </div>
  </div>
</div>
</ng-container>

<div class="w-full border-b-2 border-gray-200 h-2 mb-2"></div>
<div class="my-3 px-3">
  <div class="flex items-center h-11 w-full bg-white-100 shadow space-x-2">
    <div class="w-1/6 h-full bg-green-500 flex items-center justify-center rounded-r-lg">
      <i class="fa-solid fa-sack-dollar text-white"></i>
    </div>
    <div class="w-5/6 text-sm leading-4">
      <b>Ada cashback Rp59.500</b><br>
      <label class="text-xs text-gray-400">Ayo pakai promonya biar makin hemat</label>
    </div>
    <div class="w-1/6 flex justify-center">
      <i class="fa-sm fa-solid fa-chevron-right"></i>
    </div>
  </div>
  
  <div class="mt-3"></div>
  <div class="flex items-center space-x-2 text-xs text-gray-700">
    <label> Terjual 231 </label>
    <div class="flex items-center space-x-1 border rounded-md py-1.5 px-2">
      <i class="fa-solid fa-star text-yellow-500"></i>
      <div> 
        4.8 
        <span class="text-gray-400">(99)</span>
      </div>
    </div>
    <div class="flex items-center space-x-1 border rounded-md py-1.5 px-2">
      <i class="fa-solid fa-camera text-gray-500"></i>
      <div> 32 </div>
    </div>
    <div class="flex items-center space-x-1 border rounded-md py-1.5 px-2">
      <i class="fa-solid fa-comment-dots text-gray-500 rotate-180"></i>
      <div> 5 </div>
    </div>
  </div>
</div>

<div class="h-2 w-full bg-gray-100"></div>
<div class="p-3">
  <div class="flex justify-between">
      <div class="flex items-center space-x-2">
        <b>Ongkir Rp0</b>
        <span class="text-xs text-gray-400 font-semibold line-through">Rp11.500</span>
      </div>
      <div class="leading-3 italic flex flex-col font-extrabold" style="font-size: 9px;">
        <label class="text-yellow-500">Beli Rp20rb</label>
        <label class="text-green-500 uppercase">Bebas Ongkir</label>
      </div>
  </div>

  <div class="leading-6 text-xs">
    <label class="text-gray-400">Estimasi Tiba 14 - 16 Maret</label>
    <div class="flex justify-between items-center">
      <div class="flex items-center text-gray-400">
        <label>Kurir Lainnya :</label>
        <span style="font-size: 9px;" class="text-center mx-1 text-gray-400 bg-slate-200 px-1 font-bold rounded">
          Instan
        </span>
        <span style="font-size: 9px;" class="text-center text-gray-400 bg-slate-200 px-1 font-bold rounded">
          COD
        </span>
      </div>
      <div class="flex items-center">
        <i class="fa-solid fa-chevron-right"></i>
      </div>
    </div>
  </div>

  <div class="mt-3 text-xs border-2 p-2 rounded-lg">
    <span class="text-green-500 italic font-bold mr-2">PLUS</span>
    Bisa dikirim Same Day mulai Rp8Rb! 
    <span class="text-green-500 font-bold">Cek</span>
  </div>
</div>

<div class="h-2 w-full bg-gray-100"></div>
<div class="p-3">
  <b>Detail produk</b><br/>
  <div class="grid grid-cols-4 gap-4 border-b text-xs text-gray-400">
    <div class="col-span-1 py-2">Kondisi</div>
    <div class="col-span-3 py-2">Baru</div>
  </div>
  <div class="grid grid-cols-4 gap-4 border-b text-xs text-gray-400 mb-3">
    <div class="col-span-1 py-2">Etalase</div>
    <div class="col-span-3 py-2 text-green-500 font-bold">
      Lorem ipsum, dolor sit amet 2022
    </div>
  </div>

  <b class="">Deskripsi produk</b><br/>
  <div class="text-sm "
  [ngClass]="{'truncate': isTruncate}">
    Lorem ipsum, dolor sit amet consectetur adipisicing elit. <br/>
    Molestiae deleniti sapiente magni possimus nulla. <br/>
    Quaerat, laboriosam assumenda nihil explicabo ab atque
    adipisci non aperiam quis nam quisquam placeat rerum laborum?
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. 
    Eligendi quasi reprehenderit fuga saepe, incidunt vitae 
    placeat qui ullam sunt modi excepturi! Maiores ipsum deleniti 
    praesentium id consectetur magnam amet velit.
  </div>
  <div (click)="truncate()" 
  class="mt-2 text-xs text-green-500 font-bold">
    {{deskripsiProd}}
  </div>
</div>

<div class="h-2 w-full bg-gray-100"></div>
<div class="p-3">
  <div class="flex space-x-2">
    <div>
      <img src="https://daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg" 
      class="rounded-full w-14"/>
    </div>
    <div class="text-sm">
      <div class="flex space-x-1 items-center">
        <i class="fa-sm fa-solid fa-check-to-slot text-purple-800"></i>
        <b>Nama Toko</b>
      </div>
      <div class="flex items-center space-x-1 text-xs text-green-500">
        <span class="font-extrabold">.</span>
        <b>Online</b>
      </div>
      <span class="text-gray-400 text-xs">Jakarta Selatan</span>
    </div>
    
  </div>

  <div class="mt-3 flex justify-between items-center">
    <div class="flex flex-col text-xs">
      <div class="flex items-center space-x-1">
        <i class="fa-sm fa-regular fa-star"></i>
        <label>4.9</label>
        <span class="text-gray-400">rata-rata ulasan</span>
      </div>
      <div class="flex items-center space-x-1">
        <i class="fa-sm fa-regular fa-clock"></i>
        <label>- 4 menit</label>
        <span class="text-gray-400">pesanan diproses</span>
      </div>
    </div>
    <button 
    class="btn btn-sm text-xs btn-success px-5 "
    [ngClass]="{'btn-outline': !isFollow}"
    (click)="followingToko()"
    >
      {{deskripsiFollow}}
    </button>
  </div>
</div>

<div class="h-2 w-full bg-gray-100"></div>
<div class="p-3">
    <div class="w-full flex justify-between items-center">
      <b class="text-sm text-gray-700 flex items-center space-x-3">
        Lainnya di toko ini
      </b>
      <b class="text-xs text-green-500">Lihat Semua</b>
    </div>
    <div class="mt-3"></div>
    <div class="w-full carousel space-x-3">
      <div class="w-1/3 carousel-item flex flex-col rounded-xl bg-white border shadow text-xs">
        <img src="https://images.pexels.com/photos/341523/pexels-photo-341523.jpeg?auto=compress&cs=tinysrgb&w=800" 
        class="w-full rounded-t-xl" 
        alt="product img"/>
        <div class="p-1.5">
          <div class="mb-1">Apple Produk1 Lorem ipsumQuit...</div>
          <b>Rp999.999</b><br/>
          <label class="line-through text-xs">
            Rp.1.000.000
          </label>
          <b class="text-xs text-red-500 ml-1">13%</b>
          <div style="font-size: 10px;" class="my-1.5 font-bold bg-green-100 text-green-600 px-1">Cashback 8.4rb</div>
          <div class="text-gray-400" style="font-size: 11px;">
            <i class="fa-xs fa-solid fa-star text-yellow-400"></i>
            4.9 | 250+ terjual
          </div>
        </div>
      </div>
      <div class="w-1/3 carousel-item flex flex-col rounded-xl bg-white border shadow text-xs">
        <img src="https://images.pexels.com/photos/18105/pexels-photo.jpg?auto=compress&cs=tinysrgb&w=800" 
        class="w-full rounded-t-xl" 
        alt="product img"/>
        <div class="p-1.5">
          <div class="mb-1">Apple Produk1 Lorem ipsumQuit...</div>
          <b>Rp999.999</b><br/>
          <label class="line-through text-xs">
            Rp.1.000.000
          </label>
          <b class="text-xs text-red-500 ml-1">13%</b>
          <div style="font-size: 10px;" class="my-1.5 font-bold bg-green-100 text-green-600 px-1">Cashback 8.4rb</div>
          <div class="text-gray-400" style="font-size: 11px;">
            <i class="fa-xs fa-solid fa-star text-yellow-400"></i>
            4.9 | 250+ terjual
          </div>
        </div>
      </div>
      <div class="w-1/3 carousel-item flex flex-col rounded-xl bg-white border shadow text-xs">
        <img src="https://images.pexels.com/photos/341523/pexels-photo-341523.jpeg?auto=compress&cs=tinysrgb&w=800" 
        class="w-full rounded-t-xl" 
        alt="product img"/>
        <div class="p-1.5">
          <div class="mb-1">Apple Produk1 Lorem ipsumQuit...</div>
          <b>Rp999.999</b><br/>
          <label class="line-through text-xs">
            Rp.1.000.000
          </label>
          <b class="text-xs text-red-500 ml-1">13%</b>
          <div style="font-size: 10px;" class="my-1.5 font-bold bg-green-100 text-green-600 px-1">Cashback 8.4rb</div>
          <div class="text-gray-400" style="font-size: 11px;">
            <i class="fa-xs fa-solid fa-star text-yellow-400"></i>
            4.9 | 250+ terjual
          </div>
        </div>
      </div>
      <div class="w-1/3 carousel-item flex flex-col rounded-xl bg-white border shadow text-xs">
        <img src="https://images.pexels.com/photos/18105/pexels-photo.jpg?auto=compress&cs=tinysrgb&w=800" 
        class="w-full rounded-t-xl" 
        alt="product img"/>
        <div class="p-1.5">
          <div class="mb-1">Apple Produk1 Lorem ipsumQuit...</div>
          <b>Rp999.999</b><br/>
          <label class="line-through text-xs">
            Rp.1.000.000
          </label>
          <b class="text-xs text-red-500 ml-1">13%</b>
          <div style="font-size: 10px;" class="my-1.5 font-bold bg-green-100 text-green-600 px-1">Cashback 8.4rb</div>
          <div class="text-gray-400" style="font-size: 11px;">
            <i class="fa-xs fa-solid fa-star text-yellow-400"></i>
            4.9 | 250+ terjual
          </div>
        </div>
      </div>
      <div class="w-1/3 carousel-item flex flex-col rounded-xl bg-white border shadow text-xs">
        <img src="https://images.pexels.com/photos/341523/pexels-photo-341523.jpeg?auto=compress&cs=tinysrgb&w=800" 
        class="w-full rounded-t-xl" 
        alt="product img"/>
        <div class="p-1.5">
          <div class="mb-1">Apple Produk1 Lorem ipsumQuit...</div>
          <b>Rp999.999</b><br/>
          <label class="line-through text-xs">
            Rp.1.000.000
          </label>
          <b class="text-xs text-red-500 ml-1">13%</b>
          <div style="font-size: 10px;" class="my-1.5 font-bold bg-green-100 text-green-600 px-1">Cashback 8.4rb</div>
          <div class="text-gray-400" style="font-size: 11px;">
            <i class="fa-xs fa-solid fa-star text-yellow-400"></i>
            4.9 | 250+ terjual
          </div>
        </div>
      </div>
    </div>
</div>

<!-- Ulasan Pembeli -->
<div class="h-2 w-full bg-gray-100"></div>
<div class="p-3">
  <div class="w-full flex justify-between items-center">
    <b class="text-sm text-gray-700 flex items-center space-x-3">
      Ulasan Pembeli
    </b>
    <b class="text-xs text-green-500">Lihat Semua</b>
  </div>
  <div class="mt-2 flex items-center space-x-2">
    <div>
      <i class="fa-solid fa-star text-yellow-400"></i>
    </div>
    <div>
      <b>4.8</b>
      <label class="text-xs text-gray-400">
        dari 99 rating 
        <b class="text-xl">.</b> 
        33 ulasan
      </label>
    </div>
  </div>

  <div class="avatar-group space-y-2">
    <div class="avatar rounded-xl">
      <div class="w-14">
        <img src="https://images.pexels.com/photos/18105/pexels-photo.jpg?auto=compress&cs=tinysrgb&w=100"/>
      </div>
    </div>
    <div class="avatar rounded-xl">
      <div class="w-14">
        <img src="https://images.pexels.com/photos/341523/pexels-photo-341523.jpeg?auto=compress&cs=tinysrgb&w=100" />
      </div>
    </div>
    <div class="avatar rounded-xl">
      <div class="w-14">
        <img src="https://images.pexels.com/photos/18105/pexels-photo.jpg?auto=compress&cs=tinysrgb&w=100"/>
      </div>
    </div>
    <div class="avatar rounded-xl">
      <div class="w-14">
        <img src="https://images.pexels.com/photos/341523/pexels-photo-341523.jpeg?auto=compress&cs=tinysrgb&w=100" />
      </div>
    </div>
    <div class="avatar placeholder rounded-xl">
      <div class="w-14 bg-neutral text-white">
        <span class="text-center text-xs">
          +99<br/>
          Lainnya
        </span>
      </div>
    </div>
  </div>
  <div class="mt-2 flex space-x-1">
    <div class="avatar">
      <div class="w-8 rounded-full">
        <img src="https://daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg" />
      </div>
    </div>
    <div class="text-xs leading-4">
      <b>Nama Pembeli</b><br/>
      <span class="text-gray-400 font-semibold">36 ulasan lengkap . 5 terbantu</span>
    </div>
  </div>
  <div class="mt-2 text-gray-400" style="font-size: 11px;">
    <i class="fa-sm fa-solid fa-star text-yellow-400"></i>
    <i class="fa-sm fa-solid fa-star text-yellow-400"></i>
    <i class="fa-sm fa-solid fa-star text-yellow-400"></i>
    <i class="fa-sm fa-solid fa-star text-yellow-400"></i>
    <i class="fa-sm fa-solid fa-star text-yellow-400"></i>
    <label class="ml-2">1 minggu yang lalu</label>
  </div>
  <div class="text-sm">
    Lorem ipsum, dolor sit amet consectetur adipisicing elit. Vitae amet molestiae, 
    maiores doloremque esse dicta quaerat? Deleniti illum, 
    laudantium excepturi quasi quia officia ad nostrum vero voluptatem iste veritatis unde?
  </div>

</div>

<!-- Diskusi -->
<div class="h-2 w-full bg-gray-100"></div>
<div class="p-3">
  <div class="w-full flex justify-between items-center">
    <b class="text-sm text-gray-700 flex items-center space-x-3">
      Diskusi
    </b>
    <b class="text-xs text-green-500">Lihat Semua</b>
  </div>

  <div class="mt-5 flex space-x-1 items-center">
    <div class="avatar">
      <div class="w-8 rounded-full">
        <img src="https://daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg" />
      </div>
    </div>
    <div class="text-xs leading-4">
      <div class="font-bold">
        Nama Pembeli .
        <span class="text-gray-400 font-semibold">Sept 2023</span>
      </div>
    </div>
  </div>
  <div class="mt-1 text-xs">
    <div>Lorem ipsum dolor sit amet consectetur adipisicing elit?</div><br/>
    <div class="ml-5 flex space-x-1 items-center">
      <div class="avatar">
        <div class="w-8 rounded-full">
          <img src="https://img.freepik.com/free-psd/3d-illustration-person-with-sunglasses_23-2149436188.jpg?size=626&ext=jpg" />
        </div>
      </div>
      <div class="text-xs leading-4">
        <div class="font-bold">
          <span class="text-xs bg-green-100 text-green-500 px-2 mr-1">Penjual</span>
          <span class="text-gray-400 font-semibold">Sept 2023</span>
        </div>
      </div>
    </div>
    <div class="ml-5">
      Nobis aliquam, quos dolor, debitis vel reiciendis facilis voluptas voluptatibus veniam
    </div>
  </div>
</div>


<!-- Footer -->
<div class="mt-5 sticky bottom-0 px-2 py-3 z-30 bg-gray-50 border-t">

  <div class="grid grid-cols-7 gap-2 text-gray-600 items-center">
    <div class="w-full text-center h-full">
      <button class="bg-white rounded-lg px-2 py-1.5 h-full border border-green-600">
        <i class="fa-lg fa-solid fa-comment-dots text-green-600"></i>
      </button>
    </div>
    <div class="w-full col-span-6 text-center h-full">
      <button 
      (click)="postToCart()"
      class="bg-green-600 rounded-xl px-2 py-1.5 w-full h-full border border-green-600 text-white font-bold text-sm">
        + keranjang
      </button>
    </div>
  </div>

</div>